<h1><b>View posts</b></h1>

<!--<table>
  <tr *ngFor="let app of groups">
    <td>{{app.id}}</td>
    <td>{{app.name}}</td>
  </tr>
</table>-->


<form class="example-form">
  <mat-accordion>
    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title class="post-header">
          Choose groups
        </mat-panel-title>
      </mat-expansion-panel-header>
      <table>
        <tr *ngFor="let x of apiGroups">
          <td><mat-checkbox class="more-space">{{x.name}}</mat-checkbox></td>
        </tr>
      </table>
      <button mat-button>Filter</button>
    </mat-expansion-panel>
  </mat-accordion>
</form>

<br />
<br />

<div class="view-card">
  <div class="date-header"><b>Today, {{today}}</b></div>
    <mat-card class="your-events-card card-style">
      <div class="your-posts-header">
        <mat-card-header>
          <mat-card-title class="comp-header">EVENTS</mat-card-title>
        </mat-card-header>
      </div>
      <mat-card-content>
        <div *ngFor="let x of apiPosts">
          <div *ngIf="x.date === today && x.date >= today && x.type === event">
            <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                                 (closed)="panelOpenState = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
                <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
              </mat-expansion-panel-header>
              <table>
                <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
                <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
                <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
                <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
                <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              </table>
            </mat-expansion-panel>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="your-announcements-card card-style">
      <div class="your-posts-header">
        <mat-card-header>
          <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
        </mat-card-header>
      </div>
      <mat-card-content>
        <div *ngFor="let x of apiPosts">
          <div *ngIf="x.date === today && x.type === announcement">
            <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                                 (closed)="panelOpenState = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
              </mat-expansion-panel-header>
              <table>
                <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
                <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              </table>
            </mat-expansion-panel>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
</div>



<div class="view-card">
<div class="date-header"><b>Tomorrow, {{tomorrow}}</b></div>
  <mat-card class="your-events-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">EVENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === tomorrow && x.date >= today && x.type === event">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
              <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
              <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
              <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="your-announcements-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === tomorrow && x.type === announcement">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>



<div class="view-card">
<div class="date-header"><b>{{day3}}, {{in2Days}}</b></div>
  <mat-card class="your-events-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">EVENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in2Days && x.date >= today && x.type === event">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
              <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
              <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
              <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="your-announcements-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in2Days && x.type === announcement">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>



<div class="view-card">
<div class="date-header"><b>{{day4}}, {{in3Days}}</b></div>
  <mat-card class="your-events-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">EVENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in3Days && x.date >= today && x.type === event">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
              <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
              <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
              <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="your-announcements-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in3Days && x.type === announcement">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>



<div class="view-card">
<div class="date-header"><b>{{day5}}, {{in4Days}}</b></div>
  <mat-card class="your-events-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">EVENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in4Days && x.date >= today && x.type === event">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
              <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
              <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
              <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="your-announcements-card card-style">
    <div class="your-posts-header">
      <mat-card-header>
        <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
      </mat-card-header>
    </div>
    <mat-card-content>
      <div *ngFor="let x of apiPosts">
        <div *ngIf="x.date === in4Days && x.type === announcement">
          <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
            </mat-expansion-panel-header>
            <table>
              <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
            </table>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>



<div class="view-card">
  <div class="date-header"><b>Future activities</b></div>
    <mat-card class="your-events-card card-style">
      <div class="your-posts-header">
        <mat-card-header>
          <mat-card-title class="comp-header">EVENTS</mat-card-title>
        </mat-card-header>
      </div>
      <mat-card-content>
        <div *ngFor="let x of apiPosts">
          <div *ngIf="x.date > in4Days && x.date >= today && x.type === event">
            <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                                 (closed)="panelOpenState = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="post-header">{{x.time}}</mat-panel-title>
                <mat-panel-description class="post-header">{{x.heading}}</mat-panel-description>
              </mat-expansion-panel-header>
              <table>
                <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
                <tr><mat-icon class="more-space">alarm</mat-icon>{{x.time}}</tr>
                <tr><mat-icon class="more-space">date_range</mat-icon>{{x.date}}</tr>
                <tr><mat-icon class="more-space"> location_on</mat-icon>{{x.location}}</tr>
                <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
              </table>
            </mat-expansion-panel>
          </div>
          </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="your-announcements-card card-style">
      <div class="your-posts-header">
        <mat-card-header>
          <mat-card-title class="comp-header">ANNOUNCEMENTS</mat-card-title>
        </mat-card-header>
      </div>
      <mat-card-content>
        <div *ngFor="let x of apiPosts">
          <div *ngIf="x.date > in4Days && x.type === announcement">
            <mat-expansion-panel class="extra-margin" (opened)="panelOpenState = true"
                                 (closed)="panelOpenState = false">
              <mat-expansion-panel-header>
                <mat-panel-title class="post-header">{{x.heading}}</mat-panel-title>
              </mat-expansion-panel-header>
              <table>
                <tr><mat-icon class="more-space"> message</mat-icon>{{x.message}}</tr>
                <tr><mat-icon class="more-space">groupId</mat-icon>{{x.groupId}}</tr>
              </table>
            </mat-expansion-panel>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>


<!--Currently I am {{panelOpenState ? 'open' : 'closed'}}-->
